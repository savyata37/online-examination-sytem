2. Admin Activity Log Implementation
To make this work, you first need a table to store these events.

A. Database Schema (SQL)
Run this in your PostgreSQL tool:

SQL
CREATE TABLE activity_logs (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
    action VARCHAR(50) NOT NULL, -- e.g., 'PROFILE_UPDATE'
    details TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
B. Admin Controller Logic
Add this function to your adminController.js to fetch the history:

JavaScript
/* ---------------- GET ACTIVITY LOGS ---------------- */
exports.getActivityLogs = async (req, res) => {
  try {
    const logs = await pool.query(
      `SELECT al.id, al.action, al.details, al.created_at, u.full_name, u.role
       FROM activity_logs al
       JOIN users u ON al.user_id = u.id
       ORDER BY al.created_at DESC
       LIMIT 50`
    );
    res.json(logs.rows);
  } catch (err) {
    console.error("Error fetching logs:", err);
    res.status(500).json({ message: "Server error fetching activity" });
  }
};
C. Frontend: Admin Activity Component
Add this simple list to your AdminLand.jsx or a new tab to display the updates:

JavaScript
const [logs, setLogs] = useState([]);

useEffect(() => {
  const fetchLogs = async () => {
    const res = await axios.get("http://localhost:5000/api/admin/logs", {
      headers: { Authorization: `Bearer ${token}` }
    });
    setLogs(res.data);
  };
  fetchLogs();
}, []);

// In your JSX:
<div style={logCard}>
  <h3>Recent System Activity</h3>
  {logs.map(log => (
    <div key={log.id} style={logItem}>
      <strong>{log.full_name}</strong> ({log.role}) 
      <span style={{color: '#64748b'}}> {log.details}</span>
      <div style={{fontSize: '10px'}}>{new Date(log.created_at).toLocaleString()}</div>
    </div>
  ))}
</div>
Why this is better:
Audit Trail: You can now see exactly when a student or teacher changes their info.

Consistency: All users (Admin, Teacher, Student) now follow the exact same image pathing logic.

Performance: Using JOIN in the getProfile (like we did for Admin) is always faster than running two separate queries.